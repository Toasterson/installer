# Nameserver Configuration

Nameservers are essential for DNS resolution, allowing systems to translate domain names into IP addresses. This page provides detailed information about configuring nameservers in the System Configuration component.

## Basic Nameserver Configuration

Nameservers are defined as multiple `nameserver` elements, each with an IP address as its argument:

```
nameserver 8.8.8.8
nameserver 8.8.4.4
```

This configuration sets up two DNS nameservers: 8.8.8.8 and 8.8.4.4 (Google's public DNS servers).

## Nameserver IP Addresses

Nameservers can be specified using either IPv4 or IPv6 addresses:

### IPv4 Nameservers

```
nameserver 8.8.8.8
nameserver 8.8.4.4
nameserver 1.1.1.1
```

### IPv6 Nameservers

```
nameserver 2001:4860:4860::8888
nameserver 2001:4860:4860::8844
nameserver 2606:4700:4700::1111
```

### Mixed IPv4 and IPv6 Nameservers

You can also mix IPv4 and IPv6 nameservers:

```
nameserver 8.8.8.8
nameserver 2001:4860:4860::8888
nameserver 1.1.1.1
```

## Multiple Nameservers

You can specify multiple nameservers for redundancy and improved reliability. The system will try each nameserver in the order they are listed until it gets a response.

```
nameserver 192.168.1.1  # Local router
nameserver 8.8.8.8      # Google DNS
nameserver 1.1.1.1      # Cloudflare DNS
```

In this example, the system will first try the local router's DNS server, then Google's DNS server, and finally Cloudflare's DNS server.

## Nameserver Resolution Order

The order in which nameservers are listed is important, as it determines the order in which they will be queried. Nameservers are queried in the order they are listed in the configuration.

For optimal performance:
1. List local or nearby nameservers first
2. List reliable public nameservers next
3. List fallback nameservers last

## System Configuration

The System Configuration component configures nameservers by updating the `/etc/resolv.conf` file on the system. This file is used by the system's resolver library to determine how to resolve domain names.

A typical `/etc/resolv.conf` file might look like this:

```
# Generated by SysConfig
nameserver 8.8.8.8
nameserver 8.8.4.4
```

## Common Public Nameservers

Here are some common public DNS nameservers that you can use:

### Google Public DNS
- IPv4: 8.8.8.8 and 8.8.4.4
- IPv6: 2001:4860:4860::8888 and 2001:4860:4860::8844

### Cloudflare DNS
- IPv4: 1.1.1.1 and 1.0.0.1
- IPv6: 2606:4700:4700::1111 and 2606:4700:4700::1001

### Quad9
- IPv4: 9.9.9.9 and 149.112.112.112
- IPv6: 2620:fe::fe and 2620:fe::9

### OpenDNS
- IPv4: 208.67.222.222 and 208.67.220.220
- IPv6: 2620:119:35::35 and 2620:119:53::53

## Best Practices

When configuring nameservers, follow these best practices:

1. **Use Multiple Nameservers**: Configure at least two nameservers for redundancy.

2. **Consider Proximity**: Use nameservers that are geographically close to your system for better performance.

3. **Mix Providers**: Use nameservers from different providers to avoid single points of failure.

4. **Consider Privacy**: Some DNS providers offer enhanced privacy features or filtering.

5. **Test Resolution**: After configuring nameservers, test DNS resolution to ensure it's working correctly.

6. **Monitor Performance**: Regularly monitor the performance of your nameservers and adjust as needed.

## Examples

### Basic Configuration

```
nameserver 8.8.8.8
nameserver 8.8.4.4
```

This configures Google's public DNS servers.

### Local and Public Nameservers

```
nameserver 192.168.1.1  # Local router
nameserver 8.8.8.8      # Google DNS
```

This configures the local router as the primary nameserver and Google's public DNS as a backup.

### IPv4 and IPv6 Nameservers

```
nameserver 8.8.8.8              # Google IPv4
nameserver 2001:4860:4860::8888 # Google IPv6
```

This configures both IPv4 and IPv6 nameservers from Google.

### Nameservers in a Complete Configuration

```
hostname webserver

nameserver 192.168.1.1
nameserver 8.8.8.8
nameserver 1.1.1.1

interface eth0 {
    address {
        name = eth0
        kind = Static
        192.168.1.100/24
    }
}
```

This configuration:
- Sets the hostname to "webserver"
- Configures three DNS nameservers (local router, Google, and Cloudflare)
- Sets up the eth0 interface with a static IP address

## Next Steps

- Learn about [Network Interface Configuration](interfaces.md)
- Understand the [Plugin Architecture](plugins.md)
- See [Examples](examples.md) of System Configuration files